#### 可完成Future
`CompletableFuture`类实现了`Future`接口，它提供了获取结果的另一种机制：注册一个回调，一旦结果可用，利用该结果调用这个回调。有一些API方法会返回`CompletableFuture`对象，例如`HttpClient`类异步地获取一个网页。
大多数情况下都需要自己创建`CompletableFuture`。要想异步运行并得到`CompletableFuture`，应该调用`CompletableFuture.supplyAsync`静态方法，并且不要将它直接提交给执行器。
```java
public CompletableFuture<String> func(Executor e){
	//如果省略执行器，任务会在默认执行器(ForkJoinPool.commonPool()返回的执行器)上运行
	return CompletableFuture.supplyAsync(()->{
		return "Hello world";
	},executor)
}
```
>supplyAsync方法的第一个参数是`Supplier<T>`，与`Callable<T>`类似，但是不能抛出异常

`CompletableFuture`可能以两种方式完成：得到一个结果，或者有一个未捕获的异常。
`CompletableFuture`之所以被称为可完成的，是因为开发者可以手动设置一个完成值(在其他并发库中，这种对象称为**承诺(promise)**)。用`supplyAsync`创建时，任务会隐式地设置完成值。
>可以在多个线程中对同一个`future`安全地调用`complete`或`completeExceptionally`来设置结果。如果这个`future`已经完成，这些调用没有作用。
>与普通的`Future`不同，该类在调用`cancel`方法时，计算不会中断，只会把这个`Future`对象设置为以异常方式完成(有一个`CancellationException`)

#### 组合可完成Future
其实还是跟JS的promise差不多。`thenApply`等方法为可完成`Future`添加一个“动作”。
