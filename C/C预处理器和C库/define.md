define是明示常量，实现来说是直接替换
```
如：
#define P char*

p a,b;
//上一行实质上等于：
char *a,b;
```

从技术角度来看，可以把宏的替换体看作一种记号型字符串，不是普通字符串，C预处理记号是替换体中单独的一个字符，可以用空格做分割

```
#define A 2*2             
#define B 2 * 2

如果将空格当作分割符，A与B实质上相同，但B有3个记号，而A只有1个

但string与记号型字符串的处理方式不同，
但如果预处理器用string的方式处理B，那么B实际上将被替换成”2 * 2",
反之，用记号型字符串处理，B将被替换成三个记号2、*、2

在实际应用中，一些C编译器将把替换体视为字符串而不是记号
```

重定义常量
```
用#define定义的常量可以重定义，ANSI标准不予许重定义的值与原来的不同，只有相同才行。
除非先使用#undef取消已定义的define常量
```

宏参数
```
宏的参数是直接替换上去，所以要用（）提升优先级，以保证替换体不出错

在类函数宏的替换体中，可以用#将记号替换成字符串，

#define PS (x) printf("the " #x " ooo  %d",(x))
…………
int y = 5;
PS(y);

实际的输出值应该是the y ooo   5
之所以输出了y是因为#是将记号替换成字符串，上述代码中记号是y,也就是PS的实参，所以并没有输出y代表的值5
```

预处理器粘合器：##
```
##将两个记号组合成一个记号
例如：
	#define A(x) x##n
	A(5);
上面的将被展开成5n,由于不是字符串，所以可以用于便捷的定义变量，
如果A的定义写成x##x，那么将被展开为55
```

变参宏和__VA_ARGS
```
变参通过将最后一个参数写成...来实现，在替换体中则用__VA_ARGS来代表变参
```

使用宏比普通函数复杂一些，稍有不慎就会产生奇怪的副作用，而且宏应该尽量定义成一行。
宏是在程序中通过替换生成语句，即所谓的内联代码，相比于函数节省了跳转到函数内的时间。但函数只有一份语句，相比于宏节省了空间。
另外，宏不必控制变量类型，因为宏实际上处理的是字符串，不是实际的值